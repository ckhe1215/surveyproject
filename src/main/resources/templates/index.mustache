<!DOCTYPE HTML>
<html>
<head>
    <title>Survey Project</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="/css/style.css"/>
    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!--Font-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
</head>
<body>
<nav class="navbar">
    <div class="navbar__logo">
        <a href="/">logo</a>
    </div>
    <div class="navbar__menu">
        {{#user}}
            <a href="/mypage">마이페이지</a>
            <a href="/logout">로그아웃</a>
        {{/user}}
        {{^user}}
            <a href="/oauth2/authorization/google">로그인</a>
        {{/user}}

    </div>
</nav>

<article>
    {{#user}}
        {{#subject}}
            <section class="title">
                <h1>{{subject}} 분야 최신글</h1>
                <a href="/posts/save" role="button" class="btn btn-danger">글 작성</a>
            </section>

            <table class="table table-horizontal table-bordered">
                <thead class="thead-strong">
                <tr>
                    <th style="width:60px">번호</th>
                    <th>제목</th>
                    <th style="width:150px">작성자</th>
                </tr>
                </thead>
                <tbody id="tbody">
                {{#subjectPosts}}
                    <tr>
                        <td>{{id}}</td>
                        <td><a href="/posts/detail/{{id}}">{{title}}</a></td>
                        <td>{{author}}</td>
                    </tr>
                {{/subjectPosts}}
                </tbody>
            </table>
            <hr>
        {{/subject}}
    {{/user}}

    <section class="title">
        <h1 id = "newPost">전체 최신글</h1>
        {{^user.subject}}
            <a href="/posts/save" role="button" class="btn btn-danger">글 작성</a>
        {{/user.subject}}
    </section>

    <!--목록 출력 영역-->
    <table class="table table-horizontal table-bordered">
        <thead class="thead-strong">
        <tr>
            <th style="width:60px">번호</th>
            <th>제목</th>
            <th style="width:150px">작성자</th>
        </tr>
        </thead>
        <tbody id="tbody">
        {{#posts}}
            <tr>
                <td>{{id}}</td>
                <td><a href="/posts/detail/{{id}}">{{title}}</a></td>
                <td>{{author}}</td>
            </tr>
        {{/posts}}
        </tbody>
    </table>
    <nav aria-label="Page navigation">
        <ul class="pagination">
            {{#isNotFirst}}
                <li class="page-item">
                    <a class="page-link" href="?page={{previous}}#newPost" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
            {{/isNotFirst}}
            {{#hasNext}}
                <li class="page-item">
                    <a class="page-link" href="?page={{next}}#newPost" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            {{/hasNext}}
        </ul>
    </nav>
</article>

{{>layout/footer}}